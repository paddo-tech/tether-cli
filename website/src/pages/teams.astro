---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import CodeBlock from '../components/CodeBlock.astro';
---

<BaseLayout title="Team Sync - Tether CLI" description="Share .env files and project secrets across your team with age encryption">
  <Navbar />

  <main class="pt-16">
    <!-- Hero Section -->
    <section class="relative overflow-hidden py-20 lg:py-32">
      <div class="absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-primary/10 pointer-events-none"></div>

      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-4xl mx-auto space-y-8">
          <div class="inline-block px-4 py-1 bg-accent/10 text-accent text-sm font-mono rounded-full border border-accent/30">
            Team Sync
          </div>

          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold font-mono leading-tight">
            Share <span class="gradient-text">.env files</span><br />
            across your team
          </h1>

          <p class="text-xl text-muted leading-relaxed max-w-2xl mx-auto">
            Sync project secrets across team members with age encryption. Map GitHub orgs to automatically share .env files when teammates clone repos.
          </p>
        </div>
      </div>
    </section>

    <!-- Quick Start -->
    <section class="py-20 bg-surface/30">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold font-mono mb-4">Quick Start</h2>
        </div>

        <div class="space-y-8">
          <div class="bg-background rounded-xl p-6 border border-primary/30">
            <h3 class="font-mono font-semibold mb-4 text-primary">1. Setup team</h3>
            <CodeBlock language="bash" code={`tether team setup
# Creates team repo, generates age identity, adds you as recipient`} />
          </div>

          <div class="bg-background rounded-xl p-6 border border-accent/30">
            <h3 class="font-mono font-semibold mb-4 text-accent">2. Map your org</h3>
            <CodeBlock language="bash" code={`tether team orgs add github.com/your-company
# Project secrets from this org will be shared with the team`} />
          </div>

          <div class="bg-background rounded-xl p-6 border border-success/30">
            <h3 class="font-mono font-semibold mb-4 text-success">3. Share project secrets</h3>
            <CodeBlock language="bash" code={`tether team projects add .env
# Encrypts and shares .env with team members`} />
          </div>
        </div>
      </div>
    </section>

    <!-- How it works -->
    <section class="py-20">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold font-mono mb-4">How it works</h2>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-surface rounded-xl p-6 border border-surface">
            <h3 class="font-mono font-semibold mb-3 text-primary">Age Encryption</h3>
            <p class="text-muted text-sm">
              Secrets encrypted with age public-key cryptography. Each team member adds their public key as a recipient.
            </p>
          </div>

          <div class="bg-surface rounded-xl p-6 border border-surface">
            <h3 class="font-mono font-semibold mb-3 text-accent">Git Remote Matching</h3>
            <p class="text-muted text-sm">
              Projects matched by Git remote URL. Same repo on different machines automatically syncs the same secrets.
            </p>
          </div>

          <div class="bg-surface rounded-xl p-6 border border-surface">
            <h3 class="font-mono font-semibold mb-3 text-success">Org-Based Sharing</h3>
            <p class="text-muted text-sm">
              Map GitHub orgs to teams. When a teammate clones an org repo, project secrets are automatically available.
            </p>
          </div>

          <div class="bg-surface rounded-xl p-6 border border-surface">
            <h3 class="font-mono font-semibold mb-3 text-warning">Auto Migration</h3>
            <p class="text-muted text-sm">
              Migrate existing personal project secrets to team with one command. Purge personal copies after migration.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Commands -->
    <section class="py-20 bg-surface/30">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold font-mono mb-4">Commands</h2>
        </div>

        <div class="space-y-6">
          <!-- Team Setup -->
          <div>
            <h3 class="text-sm font-mono text-muted mb-3">Setup</h3>
            <div class="grid md:grid-cols-2 gap-3">
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-primary">tether team setup</code>
                <p class="text-muted text-xs mt-1">Interactive wizard</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team status</code>
                <p class="text-muted text-xs mt-1">View team config</p>
              </div>
            </div>
          </div>

          <!-- Orgs -->
          <div>
            <h3 class="text-sm font-mono text-muted mb-3">Organizations</h3>
            <div class="grid md:grid-cols-3 gap-3">
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-accent">tether team orgs add</code>
                <p class="text-muted text-xs mt-1">Map org to team</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team orgs list</code>
                <p class="text-muted text-xs mt-1">List mapped orgs</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team orgs remove</code>
                <p class="text-muted text-xs mt-1">Unmap org</p>
              </div>
            </div>
          </div>

          <!-- Project Secrets -->
          <div>
            <h3 class="text-sm font-mono text-muted mb-3">Project Secrets</h3>
            <div class="grid md:grid-cols-2 gap-3">
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-primary">tether team projects add .env</code>
                <p class="text-muted text-xs mt-1">Share project secret</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team projects list</code>
                <p class="text-muted text-xs mt-1">List shared secrets</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-accent">tether team projects migrate</code>
                <p class="text-muted text-xs mt-1">Auto-migrate to team</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-warning">tether team projects purge-personal</code>
                <p class="text-muted text-xs mt-1">Remove personal copies</p>
              </div>
            </div>
          </div>

          <!-- Recipients -->
          <div>
            <h3 class="text-sm font-mono text-muted mb-3">Recipients (age keys)</h3>
            <div class="grid md:grid-cols-3 gap-3">
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-primary">tether team secrets add-recipient</code>
                <p class="text-muted text-xs mt-1">Add member's key</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team secrets list-recipients</code>
                <p class="text-muted text-xs mt-1">List recipients</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team secrets remove-recipient</code>
                <p class="text-muted text-xs mt-1">Remove access</p>
              </div>
            </div>
          </div>

          <!-- Team Secrets -->
          <div>
            <h3 class="text-sm font-mono text-muted mb-3">Team-wide Secrets</h3>
            <div class="grid md:grid-cols-2 gap-3">
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs text-accent">tether team secrets set NAME</code>
                <p class="text-muted text-xs mt-1">Set a team secret</p>
              </div>
              <div class="bg-background rounded-lg p-3 border border-surface">
                <code class="font-mono text-xs">tether team secrets get NAME</code>
                <p class="text-muted text-xs mt-1">Get a team secret</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-20">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="bg-gradient-to-br from-accent/20 to-primary/20 rounded-2xl p-12 border border-accent/30">
          <h2 class="text-3xl font-bold font-mono mb-4">
            Stop sharing .env files in Slack
          </h2>
          <p class="text-muted text-lg mb-8">
            Encrypted. Synced. Automatic.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/docs" class="inline-flex items-center justify-center space-x-2 px-6 py-3 bg-primary hover:bg-primary/90 text-background rounded-lg transition-all font-mono font-semibold">
              <span>Get Started</span>
            </a>
            <a href="https://github.com/paddo-tech/tether-cli" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center space-x-2 px-6 py-3 bg-surface hover:bg-surface/80 text-text border border-surface rounded-lg transition-all font-mono">
              <span>View on GitHub</span>
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
